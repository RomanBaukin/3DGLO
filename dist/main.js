(()=>{"use strict";(e=>{const t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds"),a=e=>(1===e.length&&(e="0"+e),e);function l(){const e=function(){const e=(new Date("11 jan 2021").getTime()-(new Date).getTime())/1e3,t=Math.floor(e%60),n=Math.floor(e/60%60);return{timeRemaining:e,hours:Math.floor(e/60/60),minutes:n,seconds:t}}();e.timeRemaining>0?(t.textContent=a(e.hours+""),n.textContent=a(e.minutes+""),o.textContent=a(e.seconds+"")):(t.textContent="00",n.textContent="00",o.textContent="00")}l(),setInterval(l,1e3)})(),(()=>{const e=document.querySelector("menu"),t=()=>{e.classList.toggle("active-menu")};document.addEventListener("click",(n=>{let o=n.target;if(o.matches(".menu, .menu>img, .menu>small, .active-menu a"))t();else{if(o=o.closest(".active-menu"),o||!e.classList.contains("active-menu"))return;t()}}))})(),(()=>{const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),n=e.querySelector(".popup-content");let o=0;function a(){document.documentElement.clientWidth>768?(o++,n.style.transform=`translateY(${o}%)`,o<30?setTimeout(a,10):(o=0,clearTimeout(a))):n.style.transform="translateY(0)"}t.forEach((t=>{t.addEventListener("click",(()=>{e.style.display="block",a()}))})),e.addEventListener("click",(t=>{let n=t.target;n.classList.contains("popup-close")?e.style.display="none":(n=n.closest(".popup-content"),n||(e.style.display="none"))}))})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let o=e.target;o=o.closest(".service-header-tab"),o&&t.forEach(((e,a)=>{e===o&&(e=>{for(let o=0;o<n.length;o++)e===o?(t[o].classList.add("active"),n[o].classList.remove("d-none")):(t[o].classList.remove("active"),n[o].classList.add("d-none"))})(a)}))}))})(),(()=>{const e=document.querySelectorAll(".portfolio-item"),t=document.querySelector(".portfolio-content"),n=document.querySelector(".portfolio-dots");let o,a=0;(()=>{for(let t=0;t<e.length;t++){const e=document.createElement("li");e.classList.add("dot"),0===t&&e.classList.add("dot-active"),n.append(e)}})();const l=n.querySelectorAll(".dot"),c=(e,t,n)=>{e[t].classList.remove(n)},i=(e,t,n)=>{e[t].classList.add(n)},s=()=>{c(e,a,"portfolio-item-active"),c(l,a,"dot-active"),a++,a>=e.length&&(a=0),i(e,a,"portfolio-item-active"),i(l,a,"dot-active")},r=(e=3e3)=>{o=setInterval(s,e)};t.addEventListener("click",(t=>{t.preventDefault();const n=t.target;n.matches(".portfolio-btn, .dot")&&(c(e,a,"portfolio-item-active"),c(l,a,"dot-active"),n.matches("#arrow-right")?a++:n.matches("#arrow-left")?a--:n.matches(".dot")&&l.forEach(((e,t)=>{e===n&&(a=t)})),a>=e.length&&(a=0),a<0&&(a=e.length-1),i(e,a,"portfolio-item-active"),i(l,a,"dot-active"))})),t.addEventListener("mouseover",(e=>{e.target.matches(".portfolio-btn, .dot")&&clearInterval(o)})),t.addEventListener("mouseout",(e=>{e.target.matches(".portfolio-btn, .dot")&&r()})),r(1500)})(),(()=>{let e;document.querySelectorAll(".command__photo").forEach((t=>{t.addEventListener("mouseenter",(t=>{e=t.target.src,t.target.src=t.target.dataset.img})),t.addEventListener("mouseleave",(t=>{t.target.src=e}))}))})(),((e=100)=>{const t=document.querySelectorAll("input.calc-item"),n=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),a=document.querySelector(".calc-square"),l=document.querySelector(".calc-day"),c=document.querySelector(".calc-count"),i=document.getElementById("total");t.forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/\D/g,"")}))})),n.addEventListener("change",(t=>{const n=t.target;(n.matches(".calc-type")||n.matches(".calc-square")||n.matches(".calc-day")||n.matches(".calc-count"))&&(()=>{let t=0,n=1,s=1;const r=o.options[o.selectedIndex].value,d=+a.value;c.value>1&&(n+=(c.value-1)/10),l.value&&l.value<5?s*=2:l.value&&l.value<10&&(s*=1.5),r&&d&&(t=e*r*d*n*s),function({timing:e,draw:t,duration:n}){const o=performance.now();requestAnimationFrame((function a(l){let c=(l-o)/n;c>1&&(c=1);const i=e(c);t(i),c<1&&requestAnimationFrame(a)}))}({duration:1e3,timing:e=>e,draw(e){i.textContent=Math.floor(e*t)}})})()}))})(100),(()=>{const e=document.querySelectorAll("form"),t=document.querySelectorAll("form input"),n=document.createElement("div");n.style.cssText="font-size: 2rem;",t.forEach((e=>{e.addEventListener("input",(e=>{const t=e.target;t.matches(".form-name, .mess, #form2-name")&&(t.value=t.value.replace(/[^а-яё\s]/gi,""))}))})),e.forEach((e=>{e.addEventListener("submit",(e=>{e.preventDefault();const a=e.target;if(a.matches("#form1, #form2, #form3")){a.appendChild(n),n.innerHTML="\n      <div class=\"loadingio-spinner-blocks-eshrbad6nd\" style=\"margin-top: 20px;\">\n        <div class=\"ldio-ettmtdppwza\">\n          <div style='left:-3px;top:-3px;animation-delay:0s'></div>\n          <div style='left:33px;top:-3px;animation-delay:0.125s'></div>\n          <div style='left:69px;top:-3px;animation-delay:0.25s'></div>\n          <div style='left:-3px;top:33px;animation-delay:0.875s'></div>\n          <div style='left:69px;top:33px;animation-delay:0.375s'></div>\n          <div style='left:-3px;top:69px;animation-delay:0.75s'></div>\n          <div style='left:33px;top:69px;animation-delay:0.625s'></div>\n          <div style='left:69px;top:69px;animation-delay:0.5s'></div>\n        </div>\n      </div>\n        <style type=\"text/css\">\n        @keyframes ldio-ettmtdppwza {\n          0% { background: #f2f8f9 }\n          12.5% { background: #f2f8f9 }\n          12.625% { background: #19b5fe }\n          100% { background: #19b5fe }\n        }\n        .ldio-ettmtdppwza div {\n          position: absolute;\n          width: 34px;\n          height: 34px;\n          background: #19b5fe;\n          animation: ldio-ettmtdppwza 1s linear infinite;\n        }\n        .loadingio-spinner-blocks-eshrbad6nd {\n          width: 50px;\n          height: 50px;\n          display: inline-block;\n          overflow: hidden;\n          background: #ffffff;\n        }\n        .ldio-ettmtdppwza {\n          width: 100%;\n          height: 100%;\n          position: relative;\n          transform: translateZ(0) scale(0.5);\n          backface-visibility: hidden;\n          transform-origin: 0 0; /* see note above */\n        }\n        .ldio-ettmtdppwza div { box-sizing: content-box; }\n        /* generated by https://loading.io/ */\n        </style>";const e=new FormData(a),l={};e.forEach(((e,t)=>{l[t]=e}));const c=()=>{t.forEach((e=>{e.value=""})),n.textContent="Спасибо! Мы скоро с вами свяжемся",setTimeout((()=>{a.removeChild(n)}),5e3)};o(l).then((e=>{if(200!==e.status)throw new Error("status network not 200");c()})).catch((e=>{n.textContent="Что то пошло не так...",console.error(e)}))}}))}));const o=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})(),((e,t="+7 (___) ___-__-__")=>{const n=document.querySelectorAll(e);function o(e){const n=e.keyCode,o=t,a=o.replace(/\D/g,""),l=this.value.replace(/\D/g,"");let c=0,i=o.replace(/[_\d]/g,(e=>c<l.length?l.charAt(c++)||a.charAt(c):e));c=i.indexOf("_"),-1!==c&&(i=i.slice(0,c));let s=o.substr(0,this.value.length).replace(/_+/g,(e=>"\\d{1,"+e.length+"}")).replace(/[+()]/g,"\\$&");s=new RegExp("^"+s+"$"),(!s.test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=i),"blur"===e.type&&this.value.length<5&&(this.value="")}for(const e of n)e.addEventListener("input",o),e.addEventListener("focus",o),e.addEventListener("blur",o)})(".form-phone")})();